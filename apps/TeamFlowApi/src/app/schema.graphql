type InternalServerError {
  message: String!
  status: Int
  details: [String]
}

type JWT {
  accessToken: String!
  refreshToken: String!
}

type Message {
  data: String
}

# Union to return either a SetList or an InternalServerError
union LoginResult = JWT | InternalServerError

union ProfileResponse = Profile | InternalServerError

union MessageResponse = Message | InternalServerError

# Types

type User {
  id: Int!
  email: String!
  password: String!
  accountType: String!
}

type Profile {
  id: Int!
  email: String!
  accountType: String!
}

type Query {
  profile: ProfileResponse
}

input LoginInput {
  credentials: LoginInputLocal
  refreshToken: LoginInputToken
}

input LoginInputLocal {
  email: String!
  password: String!
}

input LoginInputToken {
  refreshToken: String!
}

input VerifyEmailInput {
  token: String!
}

input RequestResetPasswordInput {
  email: String!
}

input ResetPasswordInput {
  email: String!
  newPassword: String!
  ID: String!
}

# Mutation to add a new set and log in a user
type Mutation {
  login(input: LoginInput!): LoginResult
  register(input:LoginInputLocal!): MessageResponse
  verifyEmail(input: VerifyEmailInput!):JWT
  deleteProfile: ProfileResponse
  requestResetPassword(input: RequestResetPasswordInput!): MessageResponse
  resetPassword(input: ResetPasswordInput!): MessageResponse
}
