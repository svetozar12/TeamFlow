import { User } from "..\user\user"
import { Role } from "..\role\role"

model Project {
  id      Int               @id @default(autoincrement())
  name    String
  users   ProjectUserRole[]
  owner   User              @relation(fields: [ownerId], references: [id])
  ownerId Int               @unique
}

model ProjectUserRole {
  id        Int     @id @default(autoincrement())
  user      User    @relation(fields: [userId], references: [id])
  userId    Int
  project   Project @relation(fields: [projectId], references: [id])
  projectId Int
  role      Role    @relation(fields: [roleId], references: [id])
  roleId    Int

  @@unique([userId, projectId]) // Ensures each user has only one role per project
}
